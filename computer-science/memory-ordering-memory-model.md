Memory ordering describes the order of accesses to computer memory by a CPU. The term can refer either to the memory ordering generated by the compiler during compile time, or to the memory ordering generated by a CPU during runtime.

Memory model allow programmers to reason about the correctness of their programs, it also help programmer get most out the performance optimizations modern multi-core systems  can make.
A memory model is a specification that shows the allowed behavior of multi-threaded programs running on shared memory , multi core processors so programmer know what to expect when writing programs on these systems, the behavior is defined simply  in terms of memory reads and writes of memory locations  without any references to caches or memory subsystems.



在x86上下面的程序会产生r0 = r1 = 0的情况，从结构上是由于Store-buffer，也可以逻辑上从CPU memory
    ordering来理解
    或者这么说，这是由于Store-buffer，使得第二次的读取等同于在写入前面（memory ordering)
CORE-0                                CORE-1
x = 1                                 y = 1
asm volatile ("" ::: "memory");       asm volatile ("" ::: "memory");
r0 = y                                r1 = x


A strong hardware memory model is one in which every machine instruction comes implicitly with acquire and release semantics. As a result, when one CPU core performs a sequence of writes, every other CPU core sees those values change in the same order that they were written.
在ARM下，B核看到的store顺序与A核执行顺序未必一致
TSO stands for “total store order”

Memory barrier type：
    LoadLoad StoreStore
    LoadStore StoreLoad